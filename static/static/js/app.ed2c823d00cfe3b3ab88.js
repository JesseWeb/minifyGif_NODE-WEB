webpackJsonp([1],{0:function(e,t){},"7ctC":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),l=a("zL8q"),n=a.n(l),s=a("/ocq"),o=a("Gu7T"),u=a.n(o),c=a("QmSG"),r=a.n(c),d={data:function(){return{files:[],gapNumberGoupe:[{gap:"每帧截取",value:1},{gap:"每2帧截取一次画面",value:2},{gap:"每3帧截取一次画面",value:3},{gap:"每4帧截取一次画面",value:4},{gap:"每5帧截取一次画面",value:5}],sizeGoupe:[{size:"200*200(表情包最佳)",value:"200x200"},{size:"100*100(小)",value:"100x100"},{size:"150*150(略小)",value:"150x150"},{size:"300*300",value:"300x300"},{size:"350*350",value:"350x350"}],gap:1,size:"200x200",quality:50,uploadedFilePath:[],isUploaded:!1}},methods:{downloadFile:function(e){window.location.href=e},formatTooltip:function(e){return e+"%"},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var a=[].concat(u()(t));this.files=a,this.uploadFile(a)}},calculateQuality:function(){return(256*this.quality/100).toFixed(0)},uploadFile:function(e){var t=this,a=new FormData;a.append("gap",this.gap),a.append("quality",this.calculateQuality()),a.append("size",this.size),e.forEach(function(e){a.append(e.name,e)}),this.$http.post(r.a.hostname+"/uploadGif/",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){var a=e.body;0==a.code&&(t.isUploaded=!0,t.uploadedFilePath=a.data.imageUrls)})}},computed:{}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"compressContent"},[a("ul",[e._m(0),e._v(" "),a("li",[a("el-select",{staticClass:"gapSelector",attrs:{placeholder:"压缩后尺寸"},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizeGoupe,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.size}})}))],1),e._v(" "),a("li",[a("el-select",{staticClass:"gapSelector",attrs:{placeholder:"截取间隔帧数"},model:{value:e.gap,callback:function(t){e.gap=t},expression:"gap"}},e._l(e.gapNumberGoupe,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.gap}})}))],1),e._v(" "),a("li",{staticClass:"qualityTitle"},[e._v("\n        压缩后图片质量\n      ")]),e._v(" "),a("li",{staticClass:"sliderLi"},[a("div",{staticClass:"block sliderBox"},[a("el-slider",{attrs:{"format-tooltip":e.formatTooltip},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}})],1)])]),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"uploader"},[e._m(1),e._v(" "),a("input",{staticClass:"uploaderInput",attrs:{type:"file",multiple:""},on:{change:e.onFileChange}})])]),e._v(" "),e.files.length?a("span",{staticClass:"flag"},[e._v(e._s(e.isUploaded?"压缩成功":"上传中...")+"\n      "),e.isUploaded?e._e():a("img",{staticClass:"loadingImage",attrs:{src:"/static/loading.gif",alt:"loading"}}),e._v(" "),e.isUploaded?a("img",{staticClass:"loadingImage",attrs:{src:"/static/success.gif",alt:"loading"}}):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"choicedItem"},[a("ul",e._l(e.files,function(t,i){return a("li",{key:i},[a("span",[e._v(e._s(t.name))]),e._v(" "),e.isUploaded?a("a",{staticClass:"downloadLink",attrs:{href:"javascript:;"},on:{click:function(t){e.downloadFile(e.uploadedFilePath[i].url)}}},[e._v("点击下载")]):e._e(),e._v(" "),a("span",{staticClass:"fileSize"},[e._v("文件大小"+e._s((e.uploadedFilePath[i].size/1024).toFixed(0)+"Kb"))])])}))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("选择压缩参数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"description"},[t("img",{attrs:{src:"/static/uploadIcon.png",alt:""}}),this._v(" "),t("p",[this._v("直接拖拽gif到此,或者点击上传按钮")]),this._v(" "),t("span",[this._v("可多个上传,单个文件最大20MB")])])}]},f=a("VU/8")(d,p,!1,function(e){a("7ctC")},"data-v-4359c71a",null).exports;i.default.use(s.a);var v=new s.a({routes:[{path:"/",name:"uploader",component:f}],mode:"history"}),m=(a("tvR6"),{name:"app",data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(e,t){console.log(e,t)}}}),h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("router-view")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",{staticClass:"mainPart"},[t("img",{staticClass:"logo",attrs:{src:"/static/logo.gif"}})])])}]},g=a("VU/8")(m,h,!1,function(e){a("i2Ez")},null,null).exports,_=function(e,t){function a(){var a=s.getBoundingClientRect().width;a>(t=t||540)&&(a=t);var i=100*a/e;o.innerHTML="html{font-size:"+i+"px;}"}var i,l=document,n=window,s=l.documentElement,o=document.createElement("style");if(s.firstElementChild)s.firstElementChild.appendChild(o);else{var u=l.createElement("div");u.appendChild(o),l.write(u.innerHTML),u=null}a(),n.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(a,300)},!1),n.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(i),i=setTimeout(a,300))},!1),"complete"===l.readyState?l.body.style.fontSize="16px":l.addEventListener("DOMContentLoaded",function(e){l.body.style.fontSize="16px"},!1)},C=a("ORbq");i.default.use(C.a),_(1920,1920),i.default.use(n.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:v,template:"<App/>",components:{App:g}})},QmSG:function(e,t){e.exports={hostname:"http://localhost:82"}},i2Ez:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ed2c823d00cfe3b3ab88.js.map