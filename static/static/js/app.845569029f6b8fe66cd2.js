webpackJsonp([1],{0:function(e,t){},Ev2i:function(e,t){e.exports="data:image/png;base64,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"},GTbL:function(e,t){},IANC:function(e,t,a){e.exports=a.p+"static/img/logo.cce67f8.gif"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n=a("zL8q"),s=a.n(n),l=a("/ocq"),o=a("//Fk"),r=a.n(o),u=a("Xxa5"),c=a.n(u),p=a("Gu7T"),d=a.n(p),v=a("exGp"),f=a.n(v),h={data:function(){return{files:[],gapNumberGoupe:[{gap:"每帧截取",value:1},{gap:"每2帧截取一次画面",value:2},{gap:"每3帧截取一次画面",value:3},{gap:"每4帧截取一次画面",value:4},{gap:"每5帧截取一次画面",value:5}],sizeGoupe:[{size:"200*200(表情包最佳)",value:"200x200"},{size:"100*100(小)",value:"100x100"},{size:"150*150(略小)",value:"150x150"},{size:"300*300",value:"300x300"},{size:"350*350",value:"350x350"},{size:"自定义",value:""}],uploading:!1,gap:1,size:"200x200",quality:50,uploadedFile:[],height:"",width:""}},methods:{backToSelectSize:function(){this.size="200x200"},downloadFile:function(e){window.location.href=e},formatTooltip:function(e){return e+"%"},onFileChange:function(e){var t=this;return f()(c.a.mark(function a(){var i,n,s;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.uploading){a.next=4;break}return alert("文件正在上传处理中,请在稍后再试"),e.target.value="",a.abrupt("return");case 4:if(t.uploading=!0,(i=e.target.files||e.dataTransfer.files).length){a.next=8;break}return a.abrupt("return");case 8:return n=[].concat(d()(i)),e.target.value="",t.files=n,a.next=13,t.uploadFile(n);case 13:s=a.sent,t.uploading=!1,s.res.data.imageUrls.forEach(function(e){t.uploadedFile.push(e)});case 17:case"end":return a.stop()}},a,t)}))()},calculateQuality:function(){return this.quality},testawait:function(){return new r.a(function(e,t){setTimeout(function(){e()},1e3)})},uploadFile:function(e){var t=this;return new r.a(function(a,i){var n=new FormData;n.append("gap",t.gap),n.append("quality",t.calculateQuality()),t.size?n.append("size",t.size):n.append("size",t.width+"x"+t.height),e.forEach(function(e){n.append(e.name,e)}),t.$http.post("uploadGif",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){var t=e.body;0==t.code?(console.log(111),a({message:"success",res:t})):i("error")},function(e){i("error")})})}},computed:{}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"compressContent"},[a("ul",[e._m(0),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.size,expression:"size"}]},[a("el-select",{staticClass:"gapSelector",attrs:{placeholder:"压缩后尺寸"},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}},e._l(e.sizeGoupe,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.size}})}))],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!e.size,expression:"!size"}]},[a("el-input",{staticClass:"sizeInput",attrs:{type:"text",placeholder:"宽"},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}}),e._v(" "),a("el-input",{staticClass:"sizeInput",attrs:{type:"text",placeholder:"高"},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}}),e._v(" "),a("i",{staticClass:"el-icon-error cursorPoint",on:{click:e.backToSelectSize}})],1),e._v(" "),a("li",[a("el-select",{staticClass:"gapSelector",attrs:{placeholder:"截取间隔帧数"},model:{value:e.gap,callback:function(t){e.gap=t},expression:"gap"}},e._l(e.gapNumberGoupe,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.gap}})}))],1),e._v(" "),a("li",{staticClass:"qualityTitle"},[e._v("\n        压缩后图片质量\n      ")]),e._v(" "),a("li",{staticClass:"sliderLi"},[a("div",{staticClass:"block sliderBox"},[a("el-slider",{attrs:{"format-tooltip":e.formatTooltip},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}})],1)])]),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"uploader"},[e._m(1),e._v(" "),a("input",{staticClass:"uploaderInput",attrs:{type:"file",multiple:""},on:{change:e.onFileChange}})])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}]},[e._v("上传中")]),e._v(" "),a("div",{staticClass:"choicedItem"},[a("ul",e._l(e.uploadedFile,function(t,i){return a("li",{key:i},[a("img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.url||t.path,alt:""}}),e._v(" "),a("a",{staticClass:"downloadLink",attrs:{href:"javascript:;"},on:{click:function(a){e.downloadFile(t.url)}}},[e._v("点击下载")]),e._v(" "),a("span",{staticClass:"fileSize"},[e._v("原始文件大小"+e._s((t.originSize/1024).toFixed(0)+"Kb"))]),e._v(" "),a("span",{staticClass:"fileSize"},[e._v("压缩后文件大小"+e._s((t.size/1024).toFixed(0)+"Kb"))])])}))])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("选择压缩参数")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"description"},[t("img",{attrs:{src:a("Ev2i"),alt:""}}),this._v(" "),t("p",[this._v("直接拖拽gif到此,或者点击上传按钮")]),this._v(" "),t("span",[this._v("可多个上传,单个文件最大20MB")])])}]},m=a("VU/8")(h,g,!1,function(e){a("gC8g")},"data-v-723fe748",null).exports;i.default.use(l.a);var C=new l.a({routes:[{path:"/",name:"uploader",component:m}],mode:"history"}),w=(a("tvR6"),{name:"app",data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(e,t){console.log(e,t)}}}),z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("router-view")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("div",{staticClass:"mainPart"},[t("img",{staticClass:"logo",attrs:{src:a("IANC")}})])])}]},x=a("VU/8")(w,z,!1,function(e){a("GTbL")},null,null).exports,A=function(e,t){function a(){var a=l.getBoundingClientRect().width;a>(t=t||540)&&(a=t);var i=100*a/e;o.innerHTML="html{font-size:"+i+"px;}"}var i,n=document,s=window,l=n.documentElement,o=document.createElement("style");if(l.firstElementChild)l.firstElementChild.appendChild(o);else{var r=n.createElement("div");r.appendChild(o),n.write(r.innerHTML),r=null}a(),s.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(a,300)},!1),s.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(i),i=setTimeout(a,300))},!1),"complete"===n.readyState?n.body.style.fontSize="16px":n.addEventListener("DOMContentLoaded",function(e){n.body.style.fontSize="16px"},!1)},b=a("ORbq");i.default.use(b.a),A(1920,1920),i.default.use(s.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:C,template:"<App/>",components:{App:x}})},gC8g:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.845569029f6b8fe66cd2.js.map